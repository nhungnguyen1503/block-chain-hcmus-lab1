syntax = "proto3";

package pbft;

message Block {
    string previous_blockhash = 1;
    string blockhash = 2;
    int32 blockheight = 3;
}

message PBFTMessage {
    string sender_id = 1;
    Block block = 2;
    string phase = 3; // PrePrepare, Prepare, Commit
}

message Empty {}

service PBFTService {
    rpc PrePrepare(PBFTMessage) returns (Empty);
    rpc Prepare(PBFTMessage) returns (Empty);
    rpc Commit(PBFTMessage) returns (Empty);
}